# web 页面缓存

CodeIgniter 可以缓存网页，这样可以最大化性能。

虽然 CodeIgniter 已经足够快，但是网页中得动态内容，主机的内存CPU 和数据库读取速度等因素直接影响了网页的加载速度。通过网页缓存，你的网页可以达到静态页面的加载速度，因为已经将所有输出都保存好了。

## 缓存是如何工作的？

CodeIgniter 允许单页缓存，你也可以设置缓存时间。当页面第一次加载时，缓存文件将会保存到 `application/cache` 文件夹里。下次访问的时候，将会提取缓存页面并发送到用户的浏览器中。如果过期，它将会被删除并重新生成。

注意: Benchmark 标签在缓存的页面依然有效。

## 允许缓存

将下面的代码放到你的控制器方法中就可以启用缓存。

	$this->output->cache($n);

参数 `$n` 就是缓存失效的分钟数。

以上的代码可以放到任何一个方法中。先后的顺序不会影响，所以你可以自己定制位置。一旦标签设置好，你的页面就开始缓存。

注意: 由于 CodeIgniter 存储缓存文件的方式，只有通过 view 文件的输出才能被缓存。

注意: 如果你改变了配置选项将会影响输出，你需要手工的删除缓存文件。

注意: 在缓存文件产生之前，请确保 application/cache 文件夹可写。

## 删除缓存

如果你不再需要缓存，可以删除标签，这样它再失效后就不再缓存。

注意: 删除标签并不会立即删除缓存文件。它将会在失效后才会删除。

如果你需要手工删除缓存，可以使用 `delete_cache()` 方法。

	// Deletes cache for the currently requested URI
	$this->output->delete_cache();

	// Deletes cache for /foo/bar
	$this->output->delete_cache('/foo/bar');
